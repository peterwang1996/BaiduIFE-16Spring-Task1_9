# BaiduIFE-16Spring-Task1_9

这里完成的是百度前端技术学院的任务九，任务详情可以点击[这里](http://ife.baidu.com/review/detail?workId=841)查看，在线 Demo 可以在[这里](http://peterwang1996.github.io/BaiduIFE-16Spring-Task1_9/dist/index.html)查看。

## 交底 && 前期准备

首先说明一下，我本人，包括我们这个组的所有成员，都是来自长江大学党委宣传部下属的长大在线信息传媒设计部 Web 组之成员，日常工作是负责本校新闻网以及各学校网站的开发和维护。除了我本人是学心理学的以外，其余四人都来自我校计算机科学学院。我们都是大二开始加入 YUOL 之后自学前端技术，所以虽然有一定基础，但是普遍底子较薄。这次抱团来参加 Baidu IFE 对我们也是个新的尝试，我们希望在这里与各位共同提高，一起进步。

我们的工作性质决定了我们在之前的很长一段时间都在做一些所谓“真前端”嗤之以鼻的事儿——比如说自己用 IIS 和一个动不动就会出现一些奇怪的问题的的 ASP （没有 .NET 哟~）后台来架站啦，用一些现在看起来是奇技淫巧的方法和 IE7 的坑爹 Bug 作斗争啦，为了说服学校领导打消一些奇怪的想法而磨破嘴皮啦，等等。不得不说这些事情从某些方面来说确实很锻炼人，可是我们依然觉得这样的差事还是蛮困扰的。不过在我们组织和党委宣传部都换过血了以后，情况比之前好了很多——我用一个酝酿了很长时间的地下调查成功说服我们的前组长放弃低版本 IE 浏览器，而且领导们但对于移动端页面的需求越来越多，我们终于有机会可以在我们的工作中尝试一下之前写过无数 Demo 的新技术了，后台技术也革新成了 PHP ，而且有专门的 PHP 组负责，这使得我们可以更加专注于 Web 本身。在这么好的一个环境下，我们没有理由不提高一下自己。所以，作为 Web 组的现任组长，我撮合了我们其他四个组员来到 Baidu IFE 组团刷怪，同时以这次活动为契机，把我们的技术栈和工作流来一次大换血，并且在招新的时候把这些新技术传给我们的接班人。

于是说干就干。第一次的任务貌似规模并不是特别大，而且组内成员技术水平存在一些差距，所以我安排每个人做不同的任务，然后相互 Review 。我接下了相对困难的任务九。

因为是对新技术的操练，所以我们技术选型的策略是采用目前圈子里比较流行的新技术。我个人选用了 sass 然后用 Gulp 和 LiveReload 进行动态重载，并用 Git 进行版本管理。事实上，新技术对开发效率的提升着实是特别明显的，尤其是我个人有双屏，在有了自动刷新的加成之后，可以免去在编辑器和浏览器之间频繁切换，节约了大量时间， sass 使得在编写的样式得以更加模块化， Git 也使开发过程变得清晰很多。总之，新技术给我们在开发过程中提到了诸多便利，之后应该加强对这方面的掌握。

任务提供者为我们准备了 `psd` 和 `jpg` 格式的视觉稿，所以自己切图必然是免不了的啦。考虑到不用对低版本浏览器做兼容性处理，所以我们这次将切片保存成了支持 Alpha 通道的 `png` 格式，以期达到最好的视觉效果。虽然自己染指过一点技术上的事情，但是自觉离“像素眼”的水平还差得远，所以老老实实地用像素大厨打了长度标，第一次做这种事情，不知不觉做完之后看到密密麻麻的表看起来还是有点吓人。这里可能会有一些过度标记，而且即便做了标记，很多地方也没能做到 100% 还原，自觉水平还是不够，还是要多学多做才行啊。（话说 UI 姐姐做的图真是漂亮啊……）

![我打的标](http://ww3.sinaimg.cn/large/4b945ffegw1f287m9ijj9j21020zrwsg.jpg)

接下来，我想分模块来谈谈在开发这个页面是遇到的一些技术上我认为比较有意思的点。

## Banner

这部分并没什么可以多说的，都是常规处理。

## 左侧边栏

### 左右两侧等高

这个问题其实之前也见识过，是我们上一届组长遇到的一个问题。然后他貌似用了 'table' 的一个什么特性，然后非常 Tricky 地解决掉了。虽然他当时觉得这种方法很巧妙，还专门拿来跟我讲，但是我感觉用这种方法貌似不是很好，对语义化貌似很不利，所以我也没太留心。直到我现在自己在这儿碰到了这个问题，自己试了几种办法貌似也不行，然后我就去在网上碰碰运气，结果看到了[张鑫旭大神的一篇文章](http://www.zhangxinxu.com/wordpress/2010/03/%E7%BA%AFcss%E5%AE%9E%E7%8E%B0%E4%BE%A7%E8%BE%B9%E6%A0%8F%E5%88%86%E6%A0%8F%E9%AB%98%E5%BA%A6%E8%87%AA%E5%8A%A8%E7%9B%B8%E7%AD%89/)，他给出的解决方案是这样的：
```css
.container {                    /*以下两个页面的父元素*/
    overflow: hidden;
}

aside {
    ...
    margin-bottom: -3000 px;    /*页面可能的最大高度*/
    padding-bottom: 3000 px;
}

article {
    ...
    height: 600 px;             /*内容本身高度*/
}
```
不得不说，用负边距把这个高度适应的方法“挤”出来的方法实在是太巧妙，张大神请受小弟一拜！

### 头像

如果说只是一个圆形头像，这并没有什么，无非是一句 `border-radius: 50%` 的事情。但是难就难在圆形的图片外面还有一个圆形的框。我特意去查看了任务区已经完成的同学的代码，发现大家很多都是在 `img` 标签之后增加了一个诸如 `i` 标签之类的东西来实现这个圆框的绘制，当然有大神直接用伪元素来解决问题，恕本人才疏学浅，尚不能充分理解用伪元素来解决这类问题的思路，所以我用了一个看起来蛮“笨”的方法，就是在 `img`的外面套了一个 `div` ，草草地把这个圆画了出来。

### 菜单

这个东西特别有意思。按照我们之前的思路，这种东西我们一般是用嵌套的 `ul` 和 `li` 解决的，但是我先前不知在哪里看到了 HTML5 新增的 `summary` 和 `details` 标签，貌似用在这里特别合适，于是我便试了一试，果然，不需要 JavaScript，这个标签本身就可以帮我实现“展开”和“收起”的功能，甚好，甚好。但是做到后面，我才发现这个新标签其实还蛮麻烦的——作为一个新标签，目前浏览器对它的支持并不算好，就连 W3C 的验证器都给我在用这些标签的地方打上了 Warning ，提醒我浏览器对这个标签的特性支持的并不全面，建议我留好后路。果不其然，这标签貌似只有在 Chrome 下是完美支持的，开发者版 Firefox 的样式倒是能正常显示，只是没有自动展开收起的功能，至于 IE 和 Edge ……不说了，形变得连妈都不认得了。而且作为一个比较新的标签，貌似大家对它的讨论也比较少。就说我想把它默认的小三角给去掉吧，在国内网站找了半天都没有答案，结果最后还是[在万能的 stackoverflow 找到了有效的解决方法](http://stackoverflow.com/questions/6195329/how-can-you-hide-the-arrow-that-is-displayed-by-default-on-the-html5-details-e)，摘录如下：
```css
details summary::-webkit-details-marker {
    display:none;
}
```
从 `-webkit` 这个 CSS前缀就可以看出，这个貌似真的只有 Chrome / Safari 能完美支持了（虽然在 Firefox 上小三角貌似也被去掉了）。唉，不作死就不会死啊……

## 右侧内容

### `select`去掉默认的小三角

这不算是一个什么比较高深的东西，但是我之前不知道，后来是[在这里](http://blog.csdn.net/ft6302244/article/details/44239565)了解的，解决方式如下，做个备忘。

```css
select {
    appearance:none;
    -moz-appearance:none;       /* Firefox */
    -webkit-appearance:none;    /* Safari 和 Chrome */
}
```

### `block` , `inline` 和 `inline-block`

对于这几样东西，我之前的理解真的是特别模糊，以至于碰到两个 `span` 碰到一起，除了用 `br` 以外，我甚至都不知道如何把它们断成两行（比如说 "10:00am `\n` ￥1200" 还有日历中的 "1 `\n` 愚人节"），看了别的小伙伴的写法，原来他们都是用的诸如 `div` 这样的块级元素盛放这些内容。于是赶快去找来[segmentfault上的解析](https://segmentfault.com/q/1010000000454062/a-1020000000456280)和[慕课网上的视频](http://www.imooc.com/learn/403)（又是张大神，我要给你生猴子！）看了看，感觉清楚多了。这么重要的知识我居然都还不甚了解，该打该打。看来还是要不断提高知识水平才行啊。

## 论 sass 的便利

其他的就没什么比较困难的东西了（或者还有陷阱我还没发现）。这里来说说 sass 有多么好用，耍起来有多么舒服。可以把页面上相同的颜色甚至样式（比如边框和阴影）用变量存储，即便美工要改图，也只用改一处，更不用担心错改或漏改，方便。可以嵌套，结构一目了然，舒坦。更牛 x 的是，它还能帮我做算术题，右下角的条形图多亏了它，我才能在不使用 JavaScript 的情况下方便地完成。我深知我还没有把它的全部潜力挖掘出来，但之后我会努力探索。尽管需要预编译，但是我们有 Gulp 和 LiveReload ，所以，谁在乎呢。

## 一点遗憾

由于写过的东西并没有那些大牛们那么多，尤其是之前，新技术在常规任务中根本无从接触，所以我的水平有限，这真的是我目前尽力写出来的东西了。由于有很多东西要去了解和熟悉，加上这几天本来也比较忙，如果你们看我 GitHub 上的 commit 的话，你会发现这个的页面我前前后后花了一个礼拜才完成。用纯 CSS 完成选项卡的部分我目前还没搞定，如果搞定了我应该会再更新在 GitHub 上。而且，我深知这个页面上还有很多东西做得不够好。除了上面列出的这些之外，还存在 sass 嵌套过深（看到[其他代码的 Review 下](http://ife.baidu.com/review/detail?workId=1586)有同学建议 sass 嵌套不超过四层，否则会影响性能），可能为了“追新”或者实现了一些特殊的技巧忽略了 HTML 的语义化，样式可能也写得不够优雅，等等。还有更多的问题，希望小伙伴们多多批评指正。我也会想办法提高自己，争取在前端的路上走得远一些，再远一些。